<!--INC_F'template_head.txt'-->
<style>
ul {
    overflow: hidden;
    position:relative;
}

li.di-list__date {
    width: 100%;
    background:#fff;
    overflow: hidden;
    z-index:2;
    position: relative;
}

.di-list__btn{
  position:absolute;
  top:0;
  right:0;
  z-index:1;
  background:#ddd;
}
.edit,.edit2 {
    position: absolute;
    top: 20%;
    right: 12px;
    width: 40px;
    font-size: 30px;
}

</style>
<!--20180904-->

<section class="di-list__main">
  <header class="di-list__head">
    <div class="di-list__title">
      日記一覧
    </div>

    <div class="di-list__back">
      全表示に戻す
    </div>
  </header>

  <section class="di-list__ListBody">
    <nav>
      <ul class="di-list__category">
        <li class="di-list__love">#恋愛</li>
        <li class="di-list__work">#仕事</li>
        <li class="di-list__family">#家庭</li>
        <li class="di-list__friend">#友達</li>
        <li class="di-list__all">#その他</li>
      </ul>
    </nav>

    <hr class="diarylist">

    <ul class="di-list__ListMain">
      <div class="di-list__LiBox">
        <li class="di-list__date">
          <a class="di-list__link" href="">
            <div class="di-list__LiText">
              <div class="di-list__days">yyyymmdd</div>
              <div class="di-list__DiTitle">タイトルタイトル</div>
              <div class="di-list__caption">本文本文本文本文本本文本文本文本文本文本文本文本文本文本文文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文</div>
            </div>
            <div class="di-list__LiPhoto">
              <img class="di-list__photo" src="/image/aura/sv/1.240.jpg" alt="">
            </div>
          </a>
          <DTAG device="pc">
            <div class="edit">★</div>
          </DTAG>
        </li>
        <div class="di-list__btn">
          <div class="di-btn di-btn__edit"><a class="di-list__edit" href="">編集</a></div>
          <div class="di-btn di-btn__del js-dialog__open">削除</div>
        </div>
      </div>
    </ul>
  </section>

<!--ページャスペース-->

    <footer class="di-list__foot">
      <ul class="di-list__month">
        <li><a>2018年3月</a></li>
        <li><a>2018年4月</a></li>
        <li><a>2018年5月</a></li>
      </ul>
    </footer>
</section>

<!--ダイアログ-->
  <div id="js-dialog__area" class="js-dialog__hide hide">
    <div class="js-dialog__content clearfix">
      <h4 class="js-dialog__title"></h4>
      <div class="js-btn__close">
        <a class="js-dialog__close">close</a>
      </div>
      <div class="js-dialog__inner">
      </div>
    </div><!--.js-dialog__content-->
  </div><!--.js-dialog__hide-->

<script>
var tsJqSwipeX = -1;
var tsJqSwipeY = -1;

$(function(){

if ('ontouchstart' in window) {
   // スワイプ処理

   $("li.di-list__date").bind("touchstart", function(){
       tsJqSwipeX = event.changedTouches[0].pageX;
       tsJqSwipeY = event.changedTouches[0].pageY;
   });
   $("li.di-list__date").bind("touchend", function(){
       tsJqSwipeX = -1;
       flag = 0;
   });
   $("li.di-list__date").bind("touchmove", function(){
       if (Math.abs(event.changedTouches[0].pageY - tsJqSwipeY) > 10) tsJqSwipeX = -1;
       if (tsJqSwipeX != -1 && Math.abs(event.changedTouches[0].pageX - tsJqSwipeX) > 35) {
           tsJqSwipeX = -1;
           // スワイプられた時の処理
            $('li.di-list__date').animate({"margin-left":"0"},"fast");
            $('li.di-list__date a').css('pointer-events','auto');
            if($(this).css("margin-left") == "0px"){
              $('a',this).css('pointer-events','none');
              $(this).animate({"margin-left":"-45%"},"fast");
            }else{
              $('li.di-list__date a').css('pointer-events','auto');
              $('li.di-list__date').animate({"margin-left":"0"});
            }
       }
   });
} else {
  console.log("PCだよ");
}

$(".edit").hide();
$("li.di-list__date").hover(
    function(){
      $(".edit",this).fadeIn("slow");
    },
    function(){
      $(".edit").fadeOut("slow");
    });


$(".edit").on('click', function(){
    $('li.di-list__date').animate({"margin-left":"0"},"fast");
    $('li.di-list__date a').css('pointer-events','auto');
    if($(this).parent("li").css("margin-left") == "0px"){
      $(this).css("display","block");
      $('+a',this).css('pointer-events','none');
      $(this).parent("li").animate({"margin-left":"-45%"},"fast");
    }else{
      $('li.di-list__date a').css('pointer-events','auto');
      $('li.di-list__date').animate({"margin-left":"0"});
      $(this).fadeOut("slow");
    }
})

});
</script>

<!--INC_F'template_foot.txt'-->
